---
title: hexo blog图片加载问题以及github pages, github action
date: 2023-12-06 01:36:18
tags:
---

要看懂这篇文章，你应该只需要知道什么是markdown。

这篇blog主要解决用markdown编写blog时图片标记的书写、图片的保存以及在github pages上图片的渲染问题。

这个问题听起来有些奇怪，听我娓娓道来。

## 一、问题的描述

在编写文档时，我们常常会用到图片，而对于markdown这种纯文本而言，图片只能用标记来占据图片的位置，然后在标记中指明图片的路径，例如下面这样：

```markdown
![图片描述] (图片路径)
```

这样当别人阅读时，别人知道去哪里找图片，当然，如果有markdown渲染器的话，别人就能直接看到图片。

上面的叙述中出现了路径一词，你应该能够意识到这应该包括了绝对路径和相对路径。markdown允许通过绝对路径和相对路径来引用图片，下面是一些举例：

方式1：

```markdown
![] (D:\images\test.png)
```

方式2：

```markdown
![] (https://www.sducraft.top/images/test.png)
```

方式3：

```markdown
![] (./images/test.png)
```

1和2用绝对路径引用，3用相对路径引用。

如果这个markdown的源文件想有较高的传播性的话，那么方式1绝对是被枪毙的存在，毕竟你不能保证每个人都用windows，并且这个人的D盘的特定位置还有和你一摸一样的图片。

方式2使用url作为图片的地址，由此诞生出一种产品叫做图床。这种方式可以将图片和纯文本完全分离，图片可以存在任意可以被互联网访问的地方，图片和纯文本之间的文件结构要求被完全瓦解。但是这种方式也是有缺点的。首先，你能正常访问到markdown纯文本不意味着你能够访问到图片，互联网上那些图片缺失的文章就是这么一回事，只不过纯文本markdown变成了纯文本html而已。其次，在不能访问到图床的情况下，不方便编写markdown（当然，可以做到先在本地缓存图片，等到能够访问到图床之后再将图片上传到图床，不过还有其它问题）。再有，图床上图片的维护不方便，添加容易，但删除就未必了，图床不知道什么时候哪个图片该被删除。

我个人最喜欢方式3。在这种情况下，能访问到纯文本的你大概率也能访问到图片，因为它们几乎在同一个地方，此外，离线编写很方便，任何时候任何地方你都能够编写文本。但是方式3也是有缺点的，它要求你能够维护纯文本和图片之间的文件结构，这个要求有时候很容易有时候很困难，当你本地编写的时候，你只需要维护好它们的相对路径关系就行，然而如果涉及到build成html并部署互联网上的话，情况就复杂起来了。

不管怎么样，我使用的方式3，举例来说，我正在编写一个纯文本文件post.md，当我截图或者通过别的什么方式使得我的剪切板里面是图片test.png，当我在post.md里面粘贴时，markdown编辑器会将剪切板里面的图片放到与post.md同一文件层级的post文件夹里，即post/test.png，并在post.md里面用相对路径的方式引用test.png，即：

```markdown
#post.md

...
![] (post/test.png)
```

对应的文件结构：

```
├─post.md
└─post
   └─test.png
```

说了这么多，好像还是没说问题是什么？

我希望实现这么一个效果：我在写blog时用上面示例的相对路径的方式引用图片（这意味着文件结构关系也要和上面一样），当我用hexo完成build并部署到github pages上后，我访问github pages里面对应的页面时，图片能够正常渲染。

或许你对这个问题不屑一顾，或许你对问题中的某些描述存在疑问，不管怎样，要充分理解并解决这个问题，你需要知道hexo和github pages究竟是怎么一回事。在blog开头我已经说过，要看懂这篇blog，你只需要知道什么是markdown，所以别担心，如果你足够耐心地往下看的话，我会向你解释它们。

## 二、Hexo and Github pages

### Hexo
